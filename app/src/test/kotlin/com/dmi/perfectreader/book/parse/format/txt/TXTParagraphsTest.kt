package com.dmi.perfectreader.book.parse.format.txt

import com.dmi.test.shouldBe
import org.junit.Test

class TXTParagraphsTest {
    fun book(name: String) = javaClass.getResourceAsStream("/books/txt/$name")!!.bufferedReader().readLines().asSequence()

    @Test
    fun book1() {
        book("book1.txt").txtParagraphs().toList().apply {
            this[0].text shouldBe "1111111111"
            this[1].text shouldBe "111111"
            this[2].text shouldBe "111111111111111111111111111111111111111"
            this[3].text shouldBe "11111111111111"
            this[4].text shouldBe "1111111111111111111111111111111111111111111111111111111111 1111111111111111111111111111111111111111111111111111111111 111111111111111111111111111111111111111111111111111111111111111 111111111111111111111111111111111111111111111111111"
            this[5].text shouldBe "11111111111111111111111111111111111111111111111111111111 11111111111111111111111111111111111111111111111111111111111111 111111111111111111111111111111111111111111111111111111"
        }
    }

    @Test
    fun book2() {
        book("book2.txt").txtParagraphs().toList().apply {
            this[0].text shouldBe "1111111111"
            this[1].text shouldBe "111111"
            this[2].text shouldBe "111111111111111111111111111111111111111"
            this[3].text shouldBe "11111111111111"
            this[4].text shouldBe "11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"
            this[5].text shouldBe "111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"
        }
    }

    @Test
    fun book3() {
        book("book3.txt").txtParagraphs().toList().apply {
            this[0].text shouldBe "111111111111111"
            this[1].text shouldBe "111111111"
            this[2].text shouldBe "11111111111111111111111111111111111111111111111111111111 11111111111111111111111111111111111111111111111111111111111111111 11111111111111111111111111111111111111111111111111111111111111111 111111"
            this[3].text shouldBe "11111111111111111111111111111111111111111111111111111111111 111111111111111111111111111111111111111111111111111111111111 1111111111111111111111111111111111111111111111111111111111111111"
        }
    }
}