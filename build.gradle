buildscript {
    apply from: 'utils.gradle'

    ext {
        config = loadProperties('.sign/sign.properties', 'workspace.properties')

        projectVersions = [
                kotlin        : '1.1-M02',
                buildTools    : '24.0.2',
                androidPlugin : '2.2.0',
                androidExperimentalPlugin : '0.8.0',
                minSdk        : 21,
                targetSdk     : 23,
                compileSdk    : 23,
                supportLibrary: '24.2.0',
        ]

        projectRepositories = {
            jcenter()
            maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
            maven { url 'https://dl.bintray.com/igordmn/maven' }
            maven { url 'https://dl.bintray.com/kotlin/kotlin-eap-1.1' }
            maven { url 'https://dl.bintray.com/nhaarman/maven' }
            maven { url 'https://clojars.org/repo' }
            maven { url 'https://jitpack.io' }
            flatDir { dirs new File(projectDir, 'libs') }
        }

        projectAbi = config['abis']?.split(',') ?: [
                'armeabi-v7a',
                'x86',
                'mips'
        ]
    }

    repositories projectRepositories

    dependencies {
        classpath "com.android.tools.build:gradle:$projectVersions.androidPlugin"
        classpath "com.android.tools.build:gradle-experimental:$projectVersions.androidExperimentalPlugin"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$projectVersions.kotlin"
        classpath 'com.github.Turbo87.hugo:hugo-plugin:1.2.2'
    }
}

plugins {
    id 'org.sonarqube' version '1.2'
}

subprojects {
    repositories projectRepositories
}