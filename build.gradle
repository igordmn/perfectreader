buildscript {
    apply from: 'utils.gradle'

    ext {
        config = loadProperties('.sign/sign.properties', 'workspace.properties')

        projectVersions = [
                kotlin        : '1.0.3',
                buildTools    : '24',
                androidPlugin : '2.2.0-beta1',
                androidExperimentalPlugin : '0.8.0-beta1',
                minSdk        : 16,
                targetSdk     : 23,
                compileSdk    : 23,
                supportLibrary: '24.0.0',
        ]

        projectRepositories = {
            jcenter()
            maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
            maven { url 'https://dl.bintray.com/igordmn/maven' }
            maven { url 'https://dl.bintray.com/nhaarman/maven' }
            maven { url 'https://clojars.org/repo' }
            maven { url 'https://jitpack.io' }
            flatDir { dirs new File(projectDir, 'libs') }
        }

        projectAbi = config['abis']?.split(',') ?: [
                'armeabi-v7a',
                'x86',
                'mips'
        ]
    }

    repositories projectRepositories

    dependencies {
        classpath "com.android.tools.build:gradle:$projectVersions.androidPlugin"
        classpath "com.android.tools.build:gradle-experimental:$projectVersions.androidExperimentalPlugin"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$projectVersions.kotlin"
    }
}

plugins {
    id 'org.sonarqube' version '1.2'
}

subprojects {
    repositories projectRepositories
}